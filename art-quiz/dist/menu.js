(()=>{"use strict";var __webpack_modules__={806:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/article.js\nconst article = () => {\n  const cardsMenu = document.querySelector('.page5');\n  const body = document.querySelector('.body');\n  const portrait = JSON.parse(localStorage.getItem('portrait'));\n\n  const renderElement = (data) => {\n    const modalAuth = document.createElement('div');\n    const point = document.createElement('div');\n\n    data.forEach(({ author, name, year, imageNum }) => {\n      const modalAuth = document.createElement('div');\n      const modalDialog = document.createElement('div');\n      const modalWrapper = document.createElement('div');\n      const popupAnswer = document.createElement('div');\n      const popupPicture = document.createElement('div');\n      const textPicture = document.createElement('div');\n      const buttons = document.createElement('button');\n\n      modalAuth.classList.add('modal-auth');\n      modalAuth.classList.add('fade');\n      body.append(modalAuth);\n      modalDialog.classList.add('modal-dialog');\n      modalAuth.append(modalDialog);\n      modalWrapper.classList.add('modal-wrapper');\n      modalDialog.append(modalWrapper);\n      popupAnswer.classList.add('popup-answer');\n      popupAnswer.style.backgroundImage = `url(\"./img/svg/frame.svg\")`;\n      modalWrapper.append(popupAnswer);\n      popupPicture.classList.add('popup-picture');\n\n      popupPicture.style.backgroundImage = `url(\"./img/${imageNum}.jpg\")`;\n      modalWrapper.append(popupPicture);\n\n      textPicture.classList.add('text-picture');\n      textPicture.innerHTML = `\n      <h2 class=\"text text-picture-name\">${name}</h2>\n      <p class=\"text text-author\">${author}</p>\n      <p class=\"text text-year\">${year}</p>\n      `;\n\n      buttons.classList.add('buttons');\n      buttons.classList.add('buttons-next');\n      buttons.classList.add('play');\n      buttons.innerHTML = 'next';\n\n      modalWrapper.append(textPicture);\n      modalWrapper.append(buttons);\n    });\n\n    modalAuth.classList.add('modal-auth');\n    modalAuth.classList.add('fade');\n    body.append(modalAuth);\n    modalAuth.innerHTML = `\n    <div class=\"modal-dialog \">\n      <div class=\"modal-wrapper-answer\">\n        <h2 class=\"text text-result\">Congratulations !</h2>\n        <p class=\"text text-answer\">1 / 10</p>\n        <div class=\"popup-good\"></div>\n        <div class=\"popup-wrapper\">\n          <a href=\"./index.html\" class=\"buttons buttons-home home-two play\">HOME</a>\n          <a href=\"./score.html\" class=\"buttons buttons-star play\">SCORE</a>\n        </div>\n      </div>\n    </div>\n    `;\n\n    data.forEach(({ author, imageNum }) => {\n      const slideLeader = document.createElement('div');\n      const card = document.createElement('div');\n      const authorRand = [...new Set(data.map((item) => item.author))];\n\n      slideLeader.classList.add('slide-leader');\n      slideLeader.classList.add('fade');\n\n      card.classList.add('artists-img-item');\n\n      card.style.backgroundImage = `url(\"./img/${imageNum}.jpg\")`;\n\n      let randomOne = authorRand[Math.floor(Math.random() * authorRand.length)];\n\n      let randomTwo = authorRand[Math.floor(Math.random() * authorRand.length)];\n      let randomThree = authorRand[Math.floor(Math.random() * authorRand.length)];\n      if (randomOne === author || randomOne === randomTwo || randomOne === randomThree) {\n        randomOne = authorRand[Math.floor(Math.random() * authorRand.length)];\n      }\n      if (randomTwo === author || randomTwo === randomOne || randomTwo === randomThree) {\n        randomTwo = authorRand[Math.floor(Math.random() * authorRand.length)];\n      }\n      if (randomThree === author || randomThree === randomTwo || randomThree === randomOne) {\n        randomThree = authorRand[Math.floor(Math.random() * authorRand.length)];\n      }\n\n      const answers = document.createElement('div');\n      answers.classList.add('answers');\n      const answersWrapper = document.createElement('ul');\n      answersWrapper.classList.add('answers-wrapper');\n      answers.append(answersWrapper);\n\n      answersWrapper.innerHTML = `\n        <li class=\"answers-item play play-one\" >${author}</li>\n        <li class=\"answers-item play play-three \" >${randomOne}</li>\n        <li class=\"answers-item play play-two\" >${randomTwo}</li>\n        <li class=\"answers-item play play-four\" >${randomThree}</li>\n        `;\n\n      cardsMenu.append(slideLeader);\n      slideLeader.append(card);\n      slideLeader.append(answers);\n    });\n\n    cardsMenu.appendChild(point);\n    point.classList.add('point');\n\n    for (let i = 0; i < 10; i += 1) {\n      const pointItem = document.createElement('div');\n      point.appendChild(pointItem);\n      pointItem.classList.add('dot');\n      pointItem.classList.add('point-item-desert');\n    }\n    const slideIndex = 1;\n    const slides = document.querySelectorAll('.slide-leader');\n\n    function showSlides(n) {\n      slides[slideIndex - 1].classList.add('open');\n    }\n\n    showSlides(slideIndex);\n\n    const clock = document.getElementById('userInput');\n    let checkVolume;\n    let checkVolumeOne;\n    function getLocalStorage() {\n      if (localStorage.getItem('clock')) {\n        clock.value = localStorage.getItem('clock');\n      }\n      if (localStorage.getItem('checkVolume')) {\n        checkVolume = localStorage.getItem('checkVolume');\n      }\n      if (localStorage.getItem('checkVolumeOne')) {\n        checkVolumeOne = localStorage.getItem('checkVolumeOne');\n      }\n    }\n    window.addEventListener('load', getLocalStorage);\n    getLocalStorage();\n    console.log(checkVolume);\n    let myVar;\n    let countDownSeconds;\n\n    function start() {\n      countDownSeconds -= 1;\n      document.getElementById('timerr').innerHTML = countDownSeconds;\n\n      if (countDownSeconds === -1) {\n        console.log('Время закончилось');\n        stop();\n        document.getElementById('timerr').innerHTML = '0';\n        const modalAuthOne = document.querySelector('.modal-auth-one');\n\n        modalAuthOne.classList.add('is-open-one');\n\n        if (checkVolumeOne === 'true') {\n          const audio = new Audio();\n          audio.src = './audio/loss.mp3';\n          audio.autoplay = true;\n        }\n      }\n    }\n    function startTime() {\n      myVar = setInterval(start, 1000);\n      document.getElementById('timerr').innerHTML = clock.value;\n      countDownSeconds = clock.value;\n    }\n\n    if (checkVolumeOne === 'true') {\n      const audio = new Audio();\n      audio.src = './audio/loss.mp3';\n      audio.src = 'https://7oom.ru/audio/naturesounds/07%20Birds%20(7oom.ru).mp3';\n      audio.autoplay = true;\n    }\n    function stop() {\n      clearInterval(myVar);\n    }\n\n    const timerWrapper = document.querySelector('.duration-timer');\n    if (checkVolume === 'true') {\n      timerWrapper.style.display = 'block';\n      startTime();\n    } else {\n      timerWrapper.style.display = 'none';\n    }\n    const buttonsRepeat = document.querySelector('.buttons-repeat');\n    const modalAuthOne = document.querySelector('.modal-auth-one');\n    buttonsRepeat.addEventListener('click', () => {\n      modalAuthOne.classList.remove('is-open-one');\n\n      startTime();\n    });\n    // timer\n    class Animate {\n      constructor(\n        questions,\n        questionsTwo,\n        questionsThree,\n        questionsFour,\n        popupAnswer,\n        responses,\n        buttonsNext,\n        textAnswer,\n        slid,\n        playBtn,\n        popupPicture,\n        dot\n      ) {\n        this.questions = questions;\n        this.questionsTwo = questionsTwo;\n        this.questionsThree = questionsThree;\n        this.questionsFour = questionsFour;\n        this.popupAnswer = popupAnswer;\n        this.buttonsNext = buttonsNext;\n        this.slid = slid;\n        this.dot = dot;\n        this.responses = responses;\n        this.textAnswer = textAnswer;\n        this.playBtn = playBtn;\n        this.popupPicture = popupPicture;\n        this.play();\n        this.click();\n        this.clickThree();\n        this.clickTwo();\n        this.clickOne();\n        this.clickFour();\n      }\n\n      play() {\n        this.playBtn.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/zvuk41.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      click() {\n        const listImg = [];\n        this.questions.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/frame.svg\")`;\n\n            const img = this.popupPicture[i];\n            const style = img.currentStyle || window.getComputedStyle(img, false);\n            const url = style.backgroundImage.slice(4, -1).replace(/\"/g, '');\n            const last = url.split('/').pop();\n\n            function list() {\n              listImg.push(last);\n            }\n\n            list(last);\n\n            function setLocalStorage() {\n              console.log(data[0].imageNum);\n              for (let i = 0; i < 10; i++) {\n                if (String(data[0].imageNum) === `${i}0`) {\n                  localStorage.setItem(`url-${i}`, listImg);\n                }\n              }\n            }\n            window.addEventListener('beforeunload', setLocalStorage);\n\n            this.dot[i].classList.add('dot-active');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/winning.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickTwo() {\n        this.questionsTwo.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickThree() {\n        this.questionsThree.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickFour() {\n        this.questionsFour.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickOne() {\n        this.buttonsNext.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (i <= 8) {\n              if (checkVolume === 'true') {\n                stop();\n                startTime();\n              }\n              this.responses[i].classList.remove('is-open');\n              this.slid[i].classList.remove('open');\n              this.slid[i + 1].classList.add('open');\n              // this.dot[i].classList.add('dot-active');\n            } else {\n              if (checkVolume === 'true') {\n                stop();\n              }\n              this.responses[10].classList.add('is-open');\n              if (checkVolumeOne === 'true') {\n                const audio = new Audio();\n                audio.src = './audio/v.mp3';\n                audio.autoplay = true;\n              }\n            }\n            const red = document.querySelectorAll('.dot-active');\n            this.textAnswer.innerHTML = `${red.length} / 10`;\n\n            function setLocalStorage() {\n              for (let i = 0; i < 10; i++) {\n                if (String(data[0].imageNum) === `${i}0`) {\n                  localStorage.setItem(`red-${i}0`, red.length);\n                }\n              }\n            }\n            window.addEventListener('beforeunload', setLocalStorage);\n\n            if (checkVolume === 'true') {\n              stop();\n              startTime();\n            }\n          })\n        );\n      }\n    }\n\n    const questions = document.querySelectorAll('.play-one');\n    const playBtn = document.querySelectorAll('.play');\n    const popupAnswer = document.querySelectorAll('.popup-answer');\n    const popupPicture = document.querySelectorAll('.popup-picture');\n    const questionsTwo = document.querySelectorAll('.play-two');\n    const questionsThree = document.querySelectorAll('.play-three');\n    const questionsFour = document.querySelectorAll('.play-four');\n    const responses = document.querySelectorAll('.modal-auth');\n    const buttonsNext = document.querySelectorAll('.buttons-next');\n    const slid = document.querySelectorAll('.slide-leader');\n    const dot = document.querySelectorAll('.dot');\n    const textAnswer = document.querySelector('.text-answer');\n    const animate = new Animate(\n      questions,\n      questionsTwo,\n      questionsThree,\n      questionsFour,\n      popupAnswer,\n      responses,\n      buttonsNext,\n      textAnswer,\n      slid,\n      playBtn,\n      popupPicture,\n      dot\n    );\n  };\n\n  fetch(`./db/${portrait.products}`)\n    .then((response) => response.json())\n    .then((data) => {\n      renderElement(data);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n/* harmony default export */ const modules_article = (article);\n\n;// CONCATENATED MODULE: ./src/modules/fullscreen.js\nconst fullscreen = () => {\n  const openfullscreen = document.querySelector('.openfullscreen');\n  openfullscreen.addEventListener('click', () => {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      document.documentElement.requestFullscreen();\n    }\n    return false;\n  });\n};\n\n/* harmony default export */ const modules_fullscreen = (fullscreen);\n\n;// CONCATENATED MODULE: ./src/menu.js\n\n\n\nmodules_article();\nmodules_fullscreen();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA2LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG9CQUFvQiw4QkFBOEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5REFBeUQsU0FBUztBQUNsRTs7QUFFQTtBQUNBO0FBQ0EsMkNBQTJDLEtBQUs7QUFDaEQsb0NBQW9DLE9BQU87QUFDM0Msa0NBQWtDLEtBQUs7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSxpREFBaUQsU0FBUzs7QUFFMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0RBQWtELE9BQU87QUFDekQscURBQXFELFVBQVU7QUFDL0Qsa0RBQWtELFVBQVU7QUFDNUQsbURBQW1ELFlBQVk7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QyxvREFBb0QsRUFBRTtBQUN0RCw4Q0FBOEMsRUFBRTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZOztBQUV2RDtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDLG9EQUFvRCxFQUFFO0FBQ3RELDhDQUE4QyxFQUFFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxzREFBZSxPQUFPLEVBQUM7OztBQ3RhdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEseURBQWUsVUFBVSxFQUFDOzs7QUNaYztBQUNNOztBQUU5QyxlQUFPO0FBQ1Asa0JBQVUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnRlbnMvLi9zcmMvbW9kdWxlcy9hcnRpY2xlLmpzPzcwOTAiLCJ3ZWJwYWNrOi8vaW50ZW5zLy4vc3JjL21vZHVsZXMvZnVsbHNjcmVlbi5qcz9hZTc0Iiwid2VicGFjazovL2ludGVucy8uL3NyYy9tZW51LmpzP2FiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXJ0aWNsZSA9ICgpID0+IHtcbiAgY29uc3QgY2FyZHNNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2U1Jyk7XG4gIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYm9keScpO1xuICBjb25zdCBwb3J0cmFpdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BvcnRyYWl0JykpO1xuXG4gIGNvbnN0IHJlbmRlckVsZW1lbnQgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IG1vZGFsQXV0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNvbnN0IHBvaW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBkYXRhLmZvckVhY2goKHsgYXV0aG9yLCBuYW1lLCB5ZWFyLCBpbWFnZU51bSB9KSA9PiB7XG4gICAgICBjb25zdCBtb2RhbEF1dGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IG1vZGFsRGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBtb2RhbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHBvcHVwQW5zd2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBwb3B1cFBpY3R1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHRleHRQaWN0dXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cbiAgICAgIG1vZGFsQXV0aC5jbGFzc0xpc3QuYWRkKCdtb2RhbC1hdXRoJyk7XG4gICAgICBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnZmFkZScpO1xuICAgICAgYm9keS5hcHBlbmQobW9kYWxBdXRoKTtcbiAgICAgIG1vZGFsRGlhbG9nLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWRpYWxvZycpO1xuICAgICAgbW9kYWxBdXRoLmFwcGVuZChtb2RhbERpYWxvZyk7XG4gICAgICBtb2RhbFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnbW9kYWwtd3JhcHBlcicpO1xuICAgICAgbW9kYWxEaWFsb2cuYXBwZW5kKG1vZGFsV3JhcHBlcik7XG4gICAgICBwb3B1cEFuc3dlci5jbGFzc0xpc3QuYWRkKCdwb3B1cC1hbnN3ZXInKTtcbiAgICAgIHBvcHVwQW5zd2VyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIuL2ltZy9zdmcvZnJhbWUuc3ZnXCIpYDtcbiAgICAgIG1vZGFsV3JhcHBlci5hcHBlbmQocG9wdXBBbnN3ZXIpO1xuICAgICAgcG9wdXBQaWN0dXJlLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLXBpY3R1cmUnKTtcblxuICAgICAgcG9wdXBQaWN0dXJlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIuL2ltZy8ke2ltYWdlTnVtfS5qcGdcIilgO1xuICAgICAgbW9kYWxXcmFwcGVyLmFwcGVuZChwb3B1cFBpY3R1cmUpO1xuXG4gICAgICB0ZXh0UGljdHVyZS5jbGFzc0xpc3QuYWRkKCd0ZXh0LXBpY3R1cmUnKTtcbiAgICAgIHRleHRQaWN0dXJlLmlubmVySFRNTCA9IGBcbiAgICAgIDxoMiBjbGFzcz1cInRleHQgdGV4dC1waWN0dXJlLW5hbWVcIj4ke25hbWV9PC9oMj5cbiAgICAgIDxwIGNsYXNzPVwidGV4dCB0ZXh0LWF1dGhvclwiPiR7YXV0aG9yfTwvcD5cbiAgICAgIDxwIGNsYXNzPVwidGV4dCB0ZXh0LXllYXJcIj4ke3llYXJ9PC9wPlxuICAgICAgYDtcblxuICAgICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdidXR0b25zJyk7XG4gICAgICBidXR0b25zLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMtbmV4dCcpO1xuICAgICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdwbGF5Jyk7XG4gICAgICBidXR0b25zLmlubmVySFRNTCA9ICduZXh0JztcblxuICAgICAgbW9kYWxXcmFwcGVyLmFwcGVuZCh0ZXh0UGljdHVyZSk7XG4gICAgICBtb2RhbFdyYXBwZXIuYXBwZW5kKGJ1dHRvbnMpO1xuICAgIH0pO1xuXG4gICAgbW9kYWxBdXRoLmNsYXNzTGlzdC5hZGQoJ21vZGFsLWF1dGgnKTtcbiAgICBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnZmFkZScpO1xuICAgIGJvZHkuYXBwZW5kKG1vZGFsQXV0aCk7XG4gICAgbW9kYWxBdXRoLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtZGlhbG9nIFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdyYXBwZXItYW5zd2VyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cInRleHQgdGV4dC1yZXN1bHRcIj5Db25ncmF0dWxhdGlvbnMgITwvaDI+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dCB0ZXh0LWFuc3dlclwiPjEgLyAxMDwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvcHVwLWdvb2RcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBvcHVwLXdyYXBwZXJcIj5cbiAgICAgICAgICA8YSBocmVmPVwiLi9pbmRleC5odG1sXCIgY2xhc3M9XCJidXR0b25zIGJ1dHRvbnMtaG9tZSBob21lLXR3byBwbGF5XCI+SE9NRTwvYT5cbiAgICAgICAgICA8YSBocmVmPVwiLi9zY29yZS5odG1sXCIgY2xhc3M9XCJidXR0b25zIGJ1dHRvbnMtc3RhciBwbGF5XCI+U0NPUkU8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYDtcblxuICAgIGRhdGEuZm9yRWFjaCgoeyBhdXRob3IsIGltYWdlTnVtIH0pID0+IHtcbiAgICAgIGNvbnN0IHNsaWRlTGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBhdXRob3JSYW5kID0gWy4uLm5ldyBTZXQoZGF0YS5tYXAoKGl0ZW0pID0+IGl0ZW0uYXV0aG9yKSldO1xuXG4gICAgICBzbGlkZUxlYWRlci5jbGFzc0xpc3QuYWRkKCdzbGlkZS1sZWFkZXInKTtcbiAgICAgIHNsaWRlTGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2ZhZGUnKTtcblxuICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdhcnRpc3RzLWltZy1pdGVtJyk7XG5cbiAgICAgIGNhcmQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIi4vaW1nLyR7aW1hZ2VOdW19LmpwZ1wiKWA7XG5cbiAgICAgIGxldCByYW5kb21PbmUgPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG5cbiAgICAgIGxldCByYW5kb21Ud28gPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG4gICAgICBsZXQgcmFuZG9tVGhyZWUgPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG4gICAgICBpZiAocmFuZG9tT25lID09PSBhdXRob3IgfHwgcmFuZG9tT25lID09PSByYW5kb21Ud28gfHwgcmFuZG9tT25lID09PSByYW5kb21UaHJlZSkge1xuICAgICAgICByYW5kb21PbmUgPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG4gICAgICB9XG4gICAgICBpZiAocmFuZG9tVHdvID09PSBhdXRob3IgfHwgcmFuZG9tVHdvID09PSByYW5kb21PbmUgfHwgcmFuZG9tVHdvID09PSByYW5kb21UaHJlZSkge1xuICAgICAgICByYW5kb21Ud28gPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG4gICAgICB9XG4gICAgICBpZiAocmFuZG9tVGhyZWUgPT09IGF1dGhvciB8fCByYW5kb21UaHJlZSA9PT0gcmFuZG9tVHdvIHx8IHJhbmRvbVRocmVlID09PSByYW5kb21PbmUpIHtcbiAgICAgICAgcmFuZG9tVGhyZWUgPSBhdXRob3JSYW5kW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGF1dGhvclJhbmQubGVuZ3RoKV07XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFuc3dlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGFuc3dlcnMuY2xhc3NMaXN0LmFkZCgnYW5zd2VycycpO1xuICAgICAgY29uc3QgYW5zd2Vyc1dyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICAgICAgYW5zd2Vyc1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnYW5zd2Vycy13cmFwcGVyJyk7XG4gICAgICBhbnN3ZXJzLmFwcGVuZChhbnN3ZXJzV3JhcHBlcik7XG5cbiAgICAgIGFuc3dlcnNXcmFwcGVyLmlubmVySFRNTCA9IGBcbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgcGxheS1vbmVcIiA+JHthdXRob3J9PC9saT5cbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgcGxheS10aHJlZSBcIiA+JHtyYW5kb21PbmV9PC9saT5cbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgcGxheS10d29cIiA+JHtyYW5kb21Ud299PC9saT5cbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgcGxheS1mb3VyXCIgPiR7cmFuZG9tVGhyZWV9PC9saT5cbiAgICAgICAgYDtcblxuICAgICAgY2FyZHNNZW51LmFwcGVuZChzbGlkZUxlYWRlcik7XG4gICAgICBzbGlkZUxlYWRlci5hcHBlbmQoY2FyZCk7XG4gICAgICBzbGlkZUxlYWRlci5hcHBlbmQoYW5zd2Vycyk7XG4gICAgfSk7XG5cbiAgICBjYXJkc01lbnUuYXBwZW5kQ2hpbGQocG9pbnQpO1xuICAgIHBvaW50LmNsYXNzTGlzdC5hZGQoJ3BvaW50Jyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpICs9IDEpIHtcbiAgICAgIGNvbnN0IHBvaW50SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcG9pbnQuYXBwZW5kQ2hpbGQocG9pbnRJdGVtKTtcbiAgICAgIHBvaW50SXRlbS5jbGFzc0xpc3QuYWRkKCdkb3QnKTtcbiAgICAgIHBvaW50SXRlbS5jbGFzc0xpc3QuYWRkKCdwb2ludC1pdGVtLWRlc2VydCcpO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZUluZGV4ID0gMTtcbiAgICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUtbGVhZGVyJyk7XG5cbiAgICBmdW5jdGlvbiBzaG93U2xpZGVzKG4pIHtcbiAgICAgIHNsaWRlc1tzbGlkZUluZGV4IC0gMV0uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgIH1cblxuICAgIHNob3dTbGlkZXMoc2xpZGVJbmRleCk7XG5cbiAgICBjb25zdCBjbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VySW5wdXQnKTtcbiAgICBsZXQgY2hlY2tWb2x1bWU7XG4gICAgbGV0IGNoZWNrVm9sdW1lT25lO1xuICAgIGZ1bmN0aW9uIGdldExvY2FsU3RvcmFnZSgpIHtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xvY2snKSkge1xuICAgICAgICBjbG9jay52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjbG9jaycpO1xuICAgICAgfVxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaGVja1ZvbHVtZScpKSB7XG4gICAgICAgIGNoZWNrVm9sdW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoZWNrVm9sdW1lJyk7XG4gICAgICB9XG4gICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoZWNrVm9sdW1lT25lJykpIHtcbiAgICAgICAgY2hlY2tWb2x1bWVPbmUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2hlY2tWb2x1bWVPbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBnZXRMb2NhbFN0b3JhZ2UpO1xuICAgIGdldExvY2FsU3RvcmFnZSgpO1xuICAgIGNvbnNvbGUubG9nKGNoZWNrVm9sdW1lKTtcbiAgICBsZXQgbXlWYXI7XG4gICAgbGV0IGNvdW50RG93blNlY29uZHM7XG5cbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIGNvdW50RG93blNlY29uZHMgLT0gMTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcnInKS5pbm5lckhUTUwgPSBjb3VudERvd25TZWNvbmRzO1xuXG4gICAgICBpZiAoY291bnREb3duU2Vjb25kcyA9PT0gLTEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ9CS0YDQtdC80Y8g0LfQsNC60L7QvdGH0LjQu9C+0YHRjCcpO1xuICAgICAgICBzdG9wKCk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcnInKS5pbm5lckhUTUwgPSAnMCc7XG4gICAgICAgIGNvbnN0IG1vZGFsQXV0aE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1hdXRoLW9uZScpO1xuXG4gICAgICAgIG1vZGFsQXV0aE9uZS5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuLW9uZScpO1xuXG4gICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgICBhdWRpby5zcmMgPSAnLi9hdWRpby9sb3NzLm1wMyc7XG4gICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0VGltZSgpIHtcbiAgICAgIG15VmFyID0gc2V0SW50ZXJ2YWwoc3RhcnQsIDEwMDApO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWVycicpLmlubmVySFRNTCA9IGNsb2NrLnZhbHVlO1xuICAgICAgY291bnREb3duU2Vjb25kcyA9IGNsb2NrLnZhbHVlO1xuICAgIH1cblxuICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vbG9zcy5tcDMnO1xuICAgICAgYXVkaW8uc3JjID0gJ2h0dHBzOi8vN29vbS5ydS9hdWRpby9uYXR1cmVzb3VuZHMvMDclMjBCaXJkcyUyMCg3b29tLnJ1KS5tcDMnO1xuICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChteVZhcik7XG4gICAgfVxuXG4gICAgY29uc3QgdGltZXJXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1cmF0aW9uLXRpbWVyJyk7XG4gICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgIHRpbWVyV3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHN0YXJ0VGltZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lcldyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgY29uc3QgYnV0dG9uc1JlcGVhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zLXJlcGVhdCcpO1xuICAgIGNvbnN0IG1vZGFsQXV0aE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1hdXRoLW9uZScpO1xuICAgIGJ1dHRvbnNSZXBlYXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbEF1dGhPbmUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3Blbi1vbmUnKTtcblxuICAgICAgc3RhcnRUaW1lKCk7XG4gICAgfSk7XG4gICAgLy8gdGltZXJcbiAgICBjbGFzcyBBbmltYXRlIHtcbiAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBxdWVzdGlvbnMsXG4gICAgICAgIHF1ZXN0aW9uc1R3byxcbiAgICAgICAgcXVlc3Rpb25zVGhyZWUsXG4gICAgICAgIHF1ZXN0aW9uc0ZvdXIsXG4gICAgICAgIHBvcHVwQW5zd2VyLFxuICAgICAgICByZXNwb25zZXMsXG4gICAgICAgIGJ1dHRvbnNOZXh0LFxuICAgICAgICB0ZXh0QW5zd2VyLFxuICAgICAgICBzbGlkLFxuICAgICAgICBwbGF5QnRuLFxuICAgICAgICBwb3B1cFBpY3R1cmUsXG4gICAgICAgIGRvdFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25zID0gcXVlc3Rpb25zO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1R3byA9IHF1ZXN0aW9uc1R3bztcbiAgICAgICAgdGhpcy5xdWVzdGlvbnNUaHJlZSA9IHF1ZXN0aW9uc1RocmVlO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc0ZvdXIgPSBxdWVzdGlvbnNGb3VyO1xuICAgICAgICB0aGlzLnBvcHVwQW5zd2VyID0gcG9wdXBBbnN3ZXI7XG4gICAgICAgIHRoaXMuYnV0dG9uc05leHQgPSBidXR0b25zTmV4dDtcbiAgICAgICAgdGhpcy5zbGlkID0gc2xpZDtcbiAgICAgICAgdGhpcy5kb3QgPSBkb3Q7XG4gICAgICAgIHRoaXMucmVzcG9uc2VzID0gcmVzcG9uc2VzO1xuICAgICAgICB0aGlzLnRleHRBbnN3ZXIgPSB0ZXh0QW5zd2VyO1xuICAgICAgICB0aGlzLnBsYXlCdG4gPSBwbGF5QnRuO1xuICAgICAgICB0aGlzLnBvcHVwUGljdHVyZSA9IHBvcHVwUGljdHVyZTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIHRoaXMuY2xpY2soKTtcbiAgICAgICAgdGhpcy5jbGlja1RocmVlKCk7XG4gICAgICAgIHRoaXMuY2xpY2tUd28oKTtcbiAgICAgICAgdGhpcy5jbGlja09uZSgpO1xuICAgICAgICB0aGlzLmNsaWNrRm91cigpO1xuICAgICAgfVxuXG4gICAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLnBsYXlCdG4uZm9yRWFjaCgoZWwsIGkpID0+XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWVPbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnLi9hdWRpby96dnVrNDEubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrKCkge1xuICAgICAgICBjb25zdCBsaXN0SW1nID0gW107XG4gICAgICAgIHRoaXMucXVlc3Rpb25zLmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZXNbaV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cEFuc3dlcltpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvc3ZnL2ZyYW1lLnN2Z1wiKWA7XG5cbiAgICAgICAgICAgIGNvbnN0IGltZyA9IHRoaXMucG9wdXBQaWN0dXJlW2ldO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBpbWcuY3VycmVudFN0eWxlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGltZywgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gc3R5bGUuYmFja2dyb3VuZEltYWdlLnNsaWNlKDQsIC0xKS5yZXBsYWNlKC9cIi9nLCAnJyk7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdXJsLnNwbGl0KCcvJykucG9wKCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGxpc3QoKSB7XG4gICAgICAgICAgICAgIGxpc3RJbWcucHVzaChsYXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdChsYXN0KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlKCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhWzBdLmltYWdlTnVtKTtcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0cmluZyhkYXRhWzBdLmltYWdlTnVtKSA9PT0gYCR7aX0wYCkge1xuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHVybC0ke2l9YCwgbGlzdEltZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgc2V0TG9jYWxTdG9yYWdlKTtcblxuICAgICAgICAgICAgdGhpcy5kb3RbaV0uY2xhc3NMaXN0LmFkZCgnZG90LWFjdGl2ZScpO1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lT25lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vd2lubmluZy5tcDMnO1xuICAgICAgICAgICAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY2xpY2tUd28oKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25zVHdvLmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZXNbaV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cEFuc3dlcltpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvc3ZnL3dyb25nLWFuc3dlci5zdmdcIilgO1xuICAgICAgICAgICAgdGhpcy5kb3RbaV0uY2xhc3NMaXN0LmFkZCgncG9pbnQtaXRlbS1yZWQnKTtcbiAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICcuL2F1ZGlvL2xvc3MubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrVGhyZWUoKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25zVGhyZWUuZm9yRWFjaCgoZWwsIGkpID0+XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlc1tpXS5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwQW5zd2VyW2ldLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIuL2ltZy9zdmcvd3JvbmctYW5zd2VyLnN2Z1wiKWA7XG4gICAgICAgICAgICB0aGlzLmRvdFtpXS5jbGFzc0xpc3QuYWRkKCdwb2ludC1pdGVtLXJlZCcpO1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lT25lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vbG9zcy5tcDMnO1xuICAgICAgICAgICAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY2xpY2tGb3VyKCkge1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc0ZvdXIuZm9yRWFjaCgoZWwsIGkpID0+XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlc1tpXS5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwQW5zd2VyW2ldLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIuL2ltZy9zdmcvd3JvbmctYW5zd2VyLnN2Z1wiKWA7XG4gICAgICAgICAgICB0aGlzLmRvdFtpXS5jbGFzc0xpc3QuYWRkKCdwb2ludC1pdGVtLXJlZCcpO1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lT25lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vbG9zcy5tcDMnO1xuICAgICAgICAgICAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgY2xpY2tPbmUoKSB7XG4gICAgICAgIHRoaXMuYnV0dG9uc05leHQuZm9yRWFjaCgoZWwsIGkpID0+XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaSA8PSA4KSB7XG4gICAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcbiAgICAgICAgICAgICAgdGhpcy5zbGlkW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgICAgICAgdGhpcy5zbGlkW2kgKyAxXS5jbGFzc0xpc3QuYWRkKCdvcGVuJyk7XG4gICAgICAgICAgICAgIC8vIHRoaXMuZG90W2ldLmNsYXNzTGlzdC5hZGQoJ2RvdC1hY3RpdmUnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRoaXMucmVzcG9uc2VzWzEwXS5jbGFzc0xpc3QuYWRkKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnLi9hdWRpby92Lm1wMyc7XG4gICAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG90LWFjdGl2ZScpO1xuICAgICAgICAgICAgdGhpcy50ZXh0QW5zd2VyLmlubmVySFRNTCA9IGAke3JlZC5sZW5ndGh9IC8gMTBgO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChTdHJpbmcoZGF0YVswXS5pbWFnZU51bSkgPT09IGAke2l9MGApIHtcbiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGByZWQtJHtpfTBgLCByZWQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBzZXRMb2NhbFN0b3JhZ2UpO1xuXG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgICAgIHN0YXJ0VGltZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcXVlc3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXktb25lJyk7XG4gICAgY29uc3QgcGxheUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5Jyk7XG4gICAgY29uc3QgcG9wdXBBbnN3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtYW5zd2VyJyk7XG4gICAgY29uc3QgcG9wdXBQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLXBpY3R1cmUnKTtcbiAgICBjb25zdCBxdWVzdGlvbnNUd28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheS10d28nKTtcbiAgICBjb25zdCBxdWVzdGlvbnNUaHJlZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5LXRocmVlJyk7XG4gICAgY29uc3QgcXVlc3Rpb25zRm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5LWZvdXInKTtcbiAgICBjb25zdCByZXNwb25zZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtYXV0aCcpO1xuICAgIGNvbnN0IGJ1dHRvbnNOZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbnMtbmV4dCcpO1xuICAgIGNvbnN0IHNsaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUtbGVhZGVyJyk7XG4gICAgY29uc3QgZG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvdCcpO1xuICAgIGNvbnN0IHRleHRBbnN3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1hbnN3ZXInKTtcbiAgICBjb25zdCBhbmltYXRlID0gbmV3IEFuaW1hdGUoXG4gICAgICBxdWVzdGlvbnMsXG4gICAgICBxdWVzdGlvbnNUd28sXG4gICAgICBxdWVzdGlvbnNUaHJlZSxcbiAgICAgIHF1ZXN0aW9uc0ZvdXIsXG4gICAgICBwb3B1cEFuc3dlcixcbiAgICAgIHJlc3BvbnNlcyxcbiAgICAgIGJ1dHRvbnNOZXh0LFxuICAgICAgdGV4dEFuc3dlcixcbiAgICAgIHNsaWQsXG4gICAgICBwbGF5QnRuLFxuICAgICAgcG9wdXBQaWN0dXJlLFxuICAgICAgZG90XG4gICAgKTtcbiAgfTtcblxuICBmZXRjaChgLi9kYi8ke3BvcnRyYWl0LnByb2R1Y3RzfWApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJlbmRlckVsZW1lbnQoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhcnRpY2xlO1xuIiwiY29uc3QgZnVsbHNjcmVlbiA9ICgpID0+IHtcbiAgY29uc3Qgb3BlbmZ1bGxzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3BlbmZ1bGxzY3JlZW4nKTtcbiAgb3BlbmZ1bGxzY3JlZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KSB7XG4gICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bGxzY3JlZW47XG4iLCJpbXBvcnQgYXJ0aWNsZSBmcm9tICcuL21vZHVsZXMvYXJ0aWNsZSc7XG5pbXBvcnQgZnVsbHNjcmVlbiBmcm9tICcuL21vZHVsZXMvZnVsbHNjcmVlbic7XG5cbmFydGljbGUoKTtcbmZ1bGxzY3JlZW4oKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///806\n")}},__webpack_exports__={};__webpack_modules__[806]()})();