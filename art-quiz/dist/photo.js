(()=>{"use strict";var __webpack_modules__={753:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/pic.js\nconst pic = () => {\n  const cardsMenu = document.querySelector('.page5');\n  const body = document.querySelector('.body');\n  const portrait = JSON.parse(localStorage.getItem('portrait'));\n  const renderElement = (data) => {\n    data.forEach(({ author, name, year, imageNum }) => {\n      const modalAuth = document.createElement('div');\n      const modalDialog = document.createElement('div');\n      const modalWrapper = document.createElement('div');\n      const popupAnswer = document.createElement('div');\n      const popupPicture = document.createElement('div');\n      const textPicture = document.createElement('div');\n      const buttons = document.createElement('button');\n\n      modalAuth.classList.add('modal-auth');\n      modalAuth.classList.add('fade');\n      body.append(modalAuth);\n      modalDialog.classList.add('modal-dialog');\n      modalAuth.append(modalDialog);\n      modalWrapper.classList.add('modal-wrapper');\n      modalDialog.append(modalWrapper);\n      popupAnswer.classList.add('popup-answer');\n      modalWrapper.append(popupAnswer);\n      popupPicture.classList.add('popup-picture');\n      popupPicture.style.backgroundImage = `url(\"./img/${imageNum}.jpg\")`;\n      modalWrapper.append(popupPicture);\n      textPicture.classList.add('text-picture');\n      textPicture.innerHTML = `\n      <h2 class=\"text text-picture-name\">${name}</h2>\n      <p class=\"text text-author\">${author}</p>\n      <p class=\"text text-year\">${year}</p>\n      `;\n\n      buttons.classList.add('buttons');\n      buttons.classList.add('buttons-next');\n      buttons.classList.add('play');\n      buttons.innerHTML = 'next';\n      modalWrapper.append(textPicture);\n      modalWrapper.append(buttons);\n    });\n    const modalAuth = document.createElement('div');\n    modalAuth.classList.add('modal-auth');\n    modalAuth.classList.add('fade');\n    body.append(modalAuth);\n    modalAuth.innerHTML = `\n    <div class=\"modal-dialog\">\n      <div class=\"modal-wrapper-answer\">\n        <h2 class=\"text text-result\">Congratulations !</h2>\n        <p class=\"text text-answer\"> 0 / 10</p>\n        <div class=\"popup-good\"></div>\n        <div class=\"popup-wrapper\">\n          <a href=\"./index.html\" class=\"buttons buttons-home home-two play\">HOME</a>\n          <a href=\"./score.html\" class=\"buttons buttons-star play\">SCORE</a>\n        </div>\n      </div>\n    </div>\n    `;\n\n    data.forEach(({ author, imageNum }) => {\n      const slideLeader = document.createElement('div');\n      const textAuthor = document.createElement('h3');\n      const card = document.createElement('div');\n      const randomOne = +imageNum - 10;\n      const randomTwo = +imageNum - 20;\n      const randomThree = +imageNum - 30;\n      const picturePhotoOne = document.createElement('div');\n      const picturePhotoTwo = document.createElement('div');\n      const picturePhotoThree = document.createElement('div');\n      const picturePhotoFour = document.createElement('div');\n      const answers = document.createElement('div');\n      const answersWrapper = document.createElement('ul');\n\n      slideLeader.classList.add('slide-leader');\n      slideLeader.classList.add('fade');\n      textAuthor.classList.add('text');\n      textAuthor.classList.add('text-photo');\n      slideLeader.appendChild(textAuthor);\n      textAuthor.innerHTML = `${author}`;\n      card.classList.add('pictures-photo');\n      card.appendChild(picturePhotoOne);\n      picturePhotoOne.classList.add('picture-photo-item');\n      picturePhotoOne.style.backgroundImage = `url(\"./img/${randomOne}.jpg\")`;\n      card.appendChild(picturePhotoTwo);\n      picturePhotoTwo.classList.add('picture-photo-item');\n      picturePhotoTwo.style.backgroundImage = `url(\"./img/${randomTwo}.jpg\")`;\n      card.appendChild(picturePhotoThree);\n      picturePhotoThree.classList.add('picture-photo-item');\n      picturePhotoThree.style.backgroundImage = `url(\"./img/${imageNum}.jpg\")`;\n      card.appendChild(picturePhotoFour);\n      picturePhotoFour.classList.add('picture-photo-item');\n      picturePhotoFour.style.backgroundImage = `url(\"./img/${randomThree}.jpg\")`;\n      answers.classList.add('answers');\n      answersWrapper.classList.add('answers-wrapper');\n      answers.append(answersWrapper);\n      answersWrapper.innerHTML = `\n        <li class=\"answers-item play play-three\"  >A</li>\n        <li class=\"answers-item play  play-two\"  >B</li>\n        <li class=\"answers-item play play-one\" >C</li>\n        <li class=\"answers-item play  play-four\" >D</li>\n        `;\n\n      cardsMenu.append(slideLeader);\n      slideLeader.append(card);\n\n      slideLeader.append(answers);\n    });\n\n    const point = document.createElement('div');\n    cardsMenu.appendChild(point);\n    point.classList.add('point');\n    point.classList.add('point-two');\n    for (let i = 0; i < 10; i++) {\n      const pointItem = document.createElement('div');\n      point.appendChild(pointItem);\n      pointItem.classList.add('dot');\n      pointItem.classList.add('point-item-desert');\n    }\n    const slideIndex = 1;\n    const slides = document.querySelectorAll('.slide-leader');\n    function showSlides(n) {\n      slides[slideIndex - 1].classList.add('open');\n    }\n\n    showSlides(slideIndex);\n    // timer\n    const clock = document.getElementById('userInput');\n    let checkVolume;\n    let checkVolumeOne;\n    function getLocalStorage() {\n      if (localStorage.getItem('clock')) {\n        clock.value = localStorage.getItem('clock');\n      }\n      if (localStorage.getItem('checkVolume')) {\n        checkVolume = localStorage.getItem('checkVolume');\n      }\n      if (localStorage.getItem('checkVolumeOne')) {\n        checkVolumeOne = localStorage.getItem('checkVolumeOne');\n      }\n    }\n    window.addEventListener('load', getLocalStorage);\n    getLocalStorage();\n    let myVar;\n    let countDownSeconds;\n\n    function start() {\n      countDownSeconds -= 1;\n      document.getElementById('timerr').innerHTML = countDownSeconds;\n      if (countDownSeconds === -1) {\n        stop();\n\n        document.getElementById('timerr').innerHTML = '0';\n\n        const modalAuthOne = document.querySelector('.modal-auth-one');\n        modalAuthOne.classList.add('is-open-one');\n        if (checkVolumeOne === 'true') {\n          const audio = new Audio();\n          audio.src = './audio/loss.mp3';\n          audio.autoplay = true;\n        }\n      }\n    }\n    function startTime() {\n      myVar = setInterval(start, 1000);\n      document.getElementById('timerr').innerHTML = clock.value;\n      countDownSeconds = clock.value;\n    }\n    if (checkVolumeOne === 'true') {\n      const audio = new Audio();\n      audio.src = './audio/loss.mp3';\n      audio.src = 'https://7oom.ru/audio/naturesounds/07%20Birds%20(7oom.ru).mp3';\n      audio.autoplay = true;\n    }\n    function stop() {\n      clearInterval(myVar);\n    }\n\n    const timerWrapper = document.querySelector('.duration-timer');\n    if (checkVolume === 'true') {\n      timerWrapper.style.display = 'block';\n      startTime();\n    } else {\n      timerWrapper.style.display = 'none';\n    }\n    const buttonsRepeat = document.querySelector('.buttons-repeat');\n    const modalAuthOne = document.querySelector('.modal-auth-one');\n    buttonsRepeat.addEventListener('click', () => {\n      modalAuthOne.classList.remove('is-open-one');\n      startTime();\n    });\n    // timer\n\n    class Animate {\n      constructor(\n        questions,\n        questionsTwo,\n        questionsThree,\n        questionsFour,\n        popupAnswer,\n        responses,\n        buttonsNext,\n        textAnswer,\n        slid,\n        playBtn,\n        popupPicture,\n        dot\n      ) {\n        this.questions = questions;\n        this.questionsTwo = questionsTwo;\n        this.questionsThree = questionsThree;\n        this.questionsFour = questionsFour;\n        this.popupAnswer = popupAnswer;\n        this.buttonsNext = buttonsNext;\n        this.slid = slid;\n        this.dot = dot;\n        this.responses = responses;\n        this.textAnswer = textAnswer;\n        this.playBtn = playBtn;\n        this.popupPicture = popupPicture;\n        this.play();\n        this.click();\n        this.clickThree();\n        this.clickTwo();\n        this.clickOne();\n        this.clickFour();\n      }\n\n      play() {\n        this.playBtn.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/zvuk41.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      click() {\n        const listImg = [];\n        this.questions.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/frame.svg\")`;\n\n            const img = this.popupPicture[i];\n            const style = img.currentStyle || window.getComputedStyle(img, false);\n            const url = style.backgroundImage.slice(4, -1).replace(/\"/g, '');\n            const last = url.split('/').pop();\n\n            function list() {\n              listImg.push(last);\n            }\n\n            list(last);\n\n            function setLocalStorage() {\n              for (let i = 0; i < 10; i++) {\n                if (String(data[0].imageNum) === `1${i}0`) {\n                  localStorage.setItem(`url-1${i}`, listImg);\n                }\n              }\n            }\n            window.addEventListener('beforeunload', setLocalStorage);\n\n            this.dot[i].classList.add('dot-active');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/winning.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickTwo() {\n        this.questionsTwo.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickThree() {\n        this.questionsThree.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickFour() {\n        this.questionsFour.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (checkVolume === 'true') {\n              stop();\n            }\n            this.responses[i].classList.add('is-open');\n            this.popupAnswer[i].style.backgroundImage = `url(\"./img/svg/wrong-answer.svg\")`;\n            this.dot[i].classList.add('point-item-red');\n            if (checkVolumeOne === 'true') {\n              const audio = new Audio();\n              audio.src = './audio/loss.mp3';\n              audio.autoplay = true;\n            }\n          })\n        );\n      }\n\n      clickOne() {\n        this.buttonsNext.forEach((el, i) =>\n          el.addEventListener('click', () => {\n            if (i <= 8) {\n              if (checkVolume === 'true') {\n                stop();\n                startTime();\n              }\n              this.responses[i].classList.remove('is-open');\n              this.slid[i].classList.remove('open');\n              this.slid[i + 1].classList.add('open');\n              // this.dot[i].classList.add('dot-active');\n            } else {\n              if (checkVolume === 'true') {\n                stop();\n              }\n              this.responses[10].classList.add('is-open');\n              if (checkVolumeOne === 'true') {\n                const audio = new Audio();\n                audio.src = './audio/v.mp3';\n                audio.autoplay = true;\n              }\n            }\n            const red = document.querySelectorAll('.dot-active');\n            this.textAnswer.innerHTML = `${red.length} / 10`;\n\n            function setLocalStorage() {\n              for (let i = 0; i < 10; i++) {\n                if (String(data[0].imageNum) === `1${i}0`) {\n                  localStorage.setItem(`red-1${i}0`, red.length);\n                }\n              }\n            }\n            window.addEventListener('beforeunload', setLocalStorage);\n          })\n        );\n      }\n    }\n\n    const questions = document.querySelectorAll('.play-one');\n    const playBtn = document.querySelectorAll('.play');\n    const popupAnswer = document.querySelectorAll('.popup-answer');\n    const popupPicture = document.querySelectorAll('.popup-picture');\n    const questionsTwo = document.querySelectorAll('.play-two');\n    const questionsThree = document.querySelectorAll('.play-three');\n    const questionsFour = document.querySelectorAll('.play-four');\n    const responses = document.querySelectorAll('.modal-auth');\n    const buttonsNext = document.querySelectorAll('.buttons-next');\n    const slid = document.querySelectorAll('.slide-leader');\n    const dot = document.querySelectorAll('.dot');\n    const textAnswer = document.querySelector('.text-answer');\n    const animate = new Animate(\n      questions,\n      questionsTwo,\n      questionsThree,\n      questionsFour,\n      popupAnswer,\n      responses,\n      buttonsNext,\n      textAnswer,\n      slid,\n      playBtn,\n      popupPicture,\n      dot\n    );\n  };\n\n  fetch(`./db/${portrait.products}`)\n    .then((response) => response.json())\n    .then((data) => {\n      // renderItems(data);\n      renderElement(data);\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n/* harmony default export */ const modules_pic = (pic);\n\n;// CONCATENATED MODULE: ./src/modules/fullscreen.js\nconst fullscreen = () => {\n  const openfullscreen = document.querySelector('.openfullscreen');\n  openfullscreen.addEventListener('click', () => {\n    if (document.fullscreenElement) {\n      document.exitFullscreen();\n    } else {\n      document.documentElement.requestFullscreen();\n    }\n    return false;\n  });\n};\n\n/* harmony default export */ const modules_fullscreen = (fullscreen);\n\n;// CONCATENATED MODULE: ./src/photo.js\n\n\n\nmodules_pic();\nmodules_fullscreen();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzUzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4QkFBOEI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsU0FBUztBQUNsRTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsS0FBSztBQUNoRCxvQ0FBb0MsT0FBTztBQUMzQyxrQ0FBa0MsS0FBSztBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU87QUFDdkM7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFVBQVU7QUFDdEU7QUFDQTtBQUNBLDREQUE0RCxVQUFVO0FBQ3RFO0FBQ0E7QUFDQSw4REFBOEQsU0FBUztBQUN2RTtBQUNBO0FBQ0EsNkRBQTZELFlBQVk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QyxxREFBcUQsRUFBRTtBQUN2RCwrQ0FBK0MsRUFBRTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxZQUFZOztBQUV2RDtBQUNBLDhCQUE4QixRQUFRO0FBQ3RDLHFEQUFxRCxFQUFFO0FBQ3ZELCtDQUErQyxFQUFFO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLGtEQUFlLEdBQUcsRUFBQzs7O0FDMVpuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSx5REFBZSxVQUFVLEVBQUM7OztBQ1pNO0FBQ2M7O0FBRTlDLFdBQUc7QUFDSCxrQkFBVSIsInNvdXJjZXMiOlsid2VicGFjazovL2ludGVucy8uL3NyYy9tb2R1bGVzL3BpYy5qcz8xYjUzIiwid2VicGFjazovL2ludGVucy8uL3NyYy9tb2R1bGVzL2Z1bGxzY3JlZW4uanM/YWU3NCIsIndlYnBhY2s6Ly9pbnRlbnMvLi9zcmMvcGhvdG8uanM/ZGRiNiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwaWMgPSAoKSA9PiB7XG4gIGNvbnN0IGNhcmRzTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlNScpO1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJvZHknKTtcbiAgY29uc3QgcG9ydHJhaXQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwb3J0cmFpdCcpKTtcbiAgY29uc3QgcmVuZGVyRWxlbWVudCA9IChkYXRhKSA9PiB7XG4gICAgZGF0YS5mb3JFYWNoKCh7IGF1dGhvciwgbmFtZSwgeWVhciwgaW1hZ2VOdW0gfSkgPT4ge1xuICAgICAgY29uc3QgbW9kYWxBdXRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBtb2RhbERpYWxvZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgbW9kYWxXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCBwb3B1cEFuc3dlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgcG9wdXBQaWN0dXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb25zdCB0ZXh0UGljdHVyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXG4gICAgICBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnbW9kYWwtYXV0aCcpO1xuICAgICAgbW9kYWxBdXRoLmNsYXNzTGlzdC5hZGQoJ2ZhZGUnKTtcbiAgICAgIGJvZHkuYXBwZW5kKG1vZGFsQXV0aCk7XG4gICAgICBtb2RhbERpYWxvZy5jbGFzc0xpc3QuYWRkKCdtb2RhbC1kaWFsb2cnKTtcbiAgICAgIG1vZGFsQXV0aC5hcHBlbmQobW9kYWxEaWFsb2cpO1xuICAgICAgbW9kYWxXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ21vZGFsLXdyYXBwZXInKTtcbiAgICAgIG1vZGFsRGlhbG9nLmFwcGVuZChtb2RhbFdyYXBwZXIpO1xuICAgICAgcG9wdXBBbnN3ZXIuY2xhc3NMaXN0LmFkZCgncG9wdXAtYW5zd2VyJyk7XG4gICAgICBtb2RhbFdyYXBwZXIuYXBwZW5kKHBvcHVwQW5zd2VyKTtcbiAgICAgIHBvcHVwUGljdHVyZS5jbGFzc0xpc3QuYWRkKCdwb3B1cC1waWN0dXJlJyk7XG4gICAgICBwb3B1cFBpY3R1cmUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIi4vaW1nLyR7aW1hZ2VOdW19LmpwZ1wiKWA7XG4gICAgICBtb2RhbFdyYXBwZXIuYXBwZW5kKHBvcHVwUGljdHVyZSk7XG4gICAgICB0ZXh0UGljdHVyZS5jbGFzc0xpc3QuYWRkKCd0ZXh0LXBpY3R1cmUnKTtcbiAgICAgIHRleHRQaWN0dXJlLmlubmVySFRNTCA9IGBcbiAgICAgIDxoMiBjbGFzcz1cInRleHQgdGV4dC1waWN0dXJlLW5hbWVcIj4ke25hbWV9PC9oMj5cbiAgICAgIDxwIGNsYXNzPVwidGV4dCB0ZXh0LWF1dGhvclwiPiR7YXV0aG9yfTwvcD5cbiAgICAgIDxwIGNsYXNzPVwidGV4dCB0ZXh0LXllYXJcIj4ke3llYXJ9PC9wPlxuICAgICAgYDtcblxuICAgICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdidXR0b25zJyk7XG4gICAgICBidXR0b25zLmNsYXNzTGlzdC5hZGQoJ2J1dHRvbnMtbmV4dCcpO1xuICAgICAgYnV0dG9ucy5jbGFzc0xpc3QuYWRkKCdwbGF5Jyk7XG4gICAgICBidXR0b25zLmlubmVySFRNTCA9ICduZXh0JztcbiAgICAgIG1vZGFsV3JhcHBlci5hcHBlbmQodGV4dFBpY3R1cmUpO1xuICAgICAgbW9kYWxXcmFwcGVyLmFwcGVuZChidXR0b25zKTtcbiAgICB9KTtcbiAgICBjb25zdCBtb2RhbEF1dGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtb2RhbEF1dGguY2xhc3NMaXN0LmFkZCgnbW9kYWwtYXV0aCcpO1xuICAgIG1vZGFsQXV0aC5jbGFzc0xpc3QuYWRkKCdmYWRlJyk7XG4gICAgYm9keS5hcHBlbmQobW9kYWxBdXRoKTtcbiAgICBtb2RhbEF1dGguaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1kaWFsb2dcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC13cmFwcGVyLWFuc3dlclwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0IHRleHQtcmVzdWx0XCI+Q29uZ3JhdHVsYXRpb25zICE8L2gyPlxuICAgICAgICA8cCBjbGFzcz1cInRleHQgdGV4dC1hbnN3ZXJcIj4gMCAvIDEwPC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdXAtZ29vZFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicG9wdXAtd3JhcHBlclwiPlxuICAgICAgICAgIDxhIGhyZWY9XCIuL2luZGV4Lmh0bWxcIiBjbGFzcz1cImJ1dHRvbnMgYnV0dG9ucy1ob21lIGhvbWUtdHdvIHBsYXlcIj5IT01FPC9hPlxuICAgICAgICAgIDxhIGhyZWY9XCIuL3Njb3JlLmh0bWxcIiBjbGFzcz1cImJ1dHRvbnMgYnV0dG9ucy1zdGFyIHBsYXlcIj5TQ09SRTwvYT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgZGF0YS5mb3JFYWNoKCh7IGF1dGhvciwgaW1hZ2VOdW0gfSkgPT4ge1xuICAgICAgY29uc3Qgc2xpZGVMZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHRleHRBdXRob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMycpO1xuICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgcmFuZG9tT25lID0gK2ltYWdlTnVtIC0gMTA7XG4gICAgICBjb25zdCByYW5kb21Ud28gPSAraW1hZ2VOdW0gLSAyMDtcbiAgICAgIGNvbnN0IHJhbmRvbVRocmVlID0gK2ltYWdlTnVtIC0gMzA7XG4gICAgICBjb25zdCBwaWN0dXJlUGhvdG9PbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHBpY3R1cmVQaG90b1R3byA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29uc3QgcGljdHVyZVBob3RvVGhyZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IHBpY3R1cmVQaG90b0ZvdXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IGFuc3dlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnN0IGFuc3dlcnNXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcblxuICAgICAgc2xpZGVMZWFkZXIuY2xhc3NMaXN0LmFkZCgnc2xpZGUtbGVhZGVyJyk7XG4gICAgICBzbGlkZUxlYWRlci5jbGFzc0xpc3QuYWRkKCdmYWRlJyk7XG4gICAgICB0ZXh0QXV0aG9yLmNsYXNzTGlzdC5hZGQoJ3RleHQnKTtcbiAgICAgIHRleHRBdXRob3IuY2xhc3NMaXN0LmFkZCgndGV4dC1waG90bycpO1xuICAgICAgc2xpZGVMZWFkZXIuYXBwZW5kQ2hpbGQodGV4dEF1dGhvcik7XG4gICAgICB0ZXh0QXV0aG9yLmlubmVySFRNTCA9IGAke2F1dGhvcn1gO1xuICAgICAgY2FyZC5jbGFzc0xpc3QuYWRkKCdwaWN0dXJlcy1waG90bycpO1xuICAgICAgY2FyZC5hcHBlbmRDaGlsZChwaWN0dXJlUGhvdG9PbmUpO1xuICAgICAgcGljdHVyZVBob3RvT25lLmNsYXNzTGlzdC5hZGQoJ3BpY3R1cmUtcGhvdG8taXRlbScpO1xuICAgICAgcGljdHVyZVBob3RvT25lLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIuL2ltZy8ke3JhbmRvbU9uZX0uanBnXCIpYDtcbiAgICAgIGNhcmQuYXBwZW5kQ2hpbGQocGljdHVyZVBob3RvVHdvKTtcbiAgICAgIHBpY3R1cmVQaG90b1R3by5jbGFzc0xpc3QuYWRkKCdwaWN0dXJlLXBob3RvLWl0ZW0nKTtcbiAgICAgIHBpY3R1cmVQaG90b1R3by5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvJHtyYW5kb21Ud299LmpwZ1wiKWA7XG4gICAgICBjYXJkLmFwcGVuZENoaWxkKHBpY3R1cmVQaG90b1RocmVlKTtcbiAgICAgIHBpY3R1cmVQaG90b1RocmVlLmNsYXNzTGlzdC5hZGQoJ3BpY3R1cmUtcGhvdG8taXRlbScpO1xuICAgICAgcGljdHVyZVBob3RvVGhyZWUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIi4vaW1nLyR7aW1hZ2VOdW19LmpwZ1wiKWA7XG4gICAgICBjYXJkLmFwcGVuZENoaWxkKHBpY3R1cmVQaG90b0ZvdXIpO1xuICAgICAgcGljdHVyZVBob3RvRm91ci5jbGFzc0xpc3QuYWRkKCdwaWN0dXJlLXBob3RvLWl0ZW0nKTtcbiAgICAgIHBpY3R1cmVQaG90b0ZvdXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIi4vaW1nLyR7cmFuZG9tVGhyZWV9LmpwZ1wiKWA7XG4gICAgICBhbnN3ZXJzLmNsYXNzTGlzdC5hZGQoJ2Fuc3dlcnMnKTtcbiAgICAgIGFuc3dlcnNXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2Fuc3dlcnMtd3JhcHBlcicpO1xuICAgICAgYW5zd2Vycy5hcHBlbmQoYW5zd2Vyc1dyYXBwZXIpO1xuICAgICAgYW5zd2Vyc1dyYXBwZXIuaW5uZXJIVE1MID0gYFxuICAgICAgICA8bGkgY2xhc3M9XCJhbnN3ZXJzLWl0ZW0gcGxheSBwbGF5LXRocmVlXCIgID5BPC9saT5cbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgIHBsYXktdHdvXCIgID5CPC9saT5cbiAgICAgICAgPGxpIGNsYXNzPVwiYW5zd2Vycy1pdGVtIHBsYXkgcGxheS1vbmVcIiA+QzwvbGk+XG4gICAgICAgIDxsaSBjbGFzcz1cImFuc3dlcnMtaXRlbSBwbGF5ICBwbGF5LWZvdXJcIiA+RDwvbGk+XG4gICAgICAgIGA7XG5cbiAgICAgIGNhcmRzTWVudS5hcHBlbmQoc2xpZGVMZWFkZXIpO1xuICAgICAgc2xpZGVMZWFkZXIuYXBwZW5kKGNhcmQpO1xuXG4gICAgICBzbGlkZUxlYWRlci5hcHBlbmQoYW5zd2Vycyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBwb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGNhcmRzTWVudS5hcHBlbmRDaGlsZChwb2ludCk7XG4gICAgcG9pbnQuY2xhc3NMaXN0LmFkZCgncG9pbnQnKTtcbiAgICBwb2ludC5jbGFzc0xpc3QuYWRkKCdwb2ludC10d28nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGNvbnN0IHBvaW50SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcG9pbnQuYXBwZW5kQ2hpbGQocG9pbnRJdGVtKTtcbiAgICAgIHBvaW50SXRlbS5jbGFzc0xpc3QuYWRkKCdkb3QnKTtcbiAgICAgIHBvaW50SXRlbS5jbGFzc0xpc3QuYWRkKCdwb2ludC1pdGVtLWRlc2VydCcpO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZUluZGV4ID0gMTtcbiAgICBjb25zdCBzbGlkZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUtbGVhZGVyJyk7XG4gICAgZnVuY3Rpb24gc2hvd1NsaWRlcyhuKSB7XG4gICAgICBzbGlkZXNbc2xpZGVJbmRleCAtIDFdLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICB9XG5cbiAgICBzaG93U2xpZGVzKHNsaWRlSW5kZXgpO1xuICAgIC8vIHRpbWVyXG4gICAgY29uc3QgY2xvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcklucHV0Jyk7XG4gICAgbGV0IGNoZWNrVm9sdW1lO1xuICAgIGxldCBjaGVja1ZvbHVtZU9uZTtcbiAgICBmdW5jdGlvbiBnZXRMb2NhbFN0b3JhZ2UoKSB7XG4gICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Nsb2NrJykpIHtcbiAgICAgICAgY2xvY2sudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2xvY2snKTtcbiAgICAgIH1cbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2hlY2tWb2x1bWUnKSkge1xuICAgICAgICBjaGVja1ZvbHVtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaGVja1ZvbHVtZScpO1xuICAgICAgfVxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjaGVja1ZvbHVtZU9uZScpKSB7XG4gICAgICAgIGNoZWNrVm9sdW1lT25lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NoZWNrVm9sdW1lT25lJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZ2V0TG9jYWxTdG9yYWdlKTtcbiAgICBnZXRMb2NhbFN0b3JhZ2UoKTtcbiAgICBsZXQgbXlWYXI7XG4gICAgbGV0IGNvdW50RG93blNlY29uZHM7XG5cbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgIGNvdW50RG93blNlY29uZHMgLT0gMTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aW1lcnInKS5pbm5lckhUTUwgPSBjb3VudERvd25TZWNvbmRzO1xuICAgICAgaWYgKGNvdW50RG93blNlY29uZHMgPT09IC0xKSB7XG4gICAgICAgIHN0b3AoKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXJyJykuaW5uZXJIVE1MID0gJzAnO1xuXG4gICAgICAgIGNvbnN0IG1vZGFsQXV0aE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1hdXRoLW9uZScpO1xuICAgICAgICBtb2RhbEF1dGhPbmUuY2xhc3NMaXN0LmFkZCgnaXMtb3Blbi1vbmUnKTtcbiAgICAgICAgaWYgKGNoZWNrVm9sdW1lT25lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICAgIGF1ZGlvLnNyYyA9ICcuL2F1ZGlvL2xvc3MubXAzJztcbiAgICAgICAgICBhdWRpby5hdXRvcGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRUaW1lKCkge1xuICAgICAgbXlWYXIgPSBzZXRJbnRlcnZhbChzdGFydCwgMTAwMCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGltZXJyJykuaW5uZXJIVE1MID0gY2xvY2sudmFsdWU7XG4gICAgICBjb3VudERvd25TZWNvbmRzID0gY2xvY2sudmFsdWU7XG4gICAgfVxuICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vbG9zcy5tcDMnO1xuICAgICAgYXVkaW8uc3JjID0gJ2h0dHBzOi8vN29vbS5ydS9hdWRpby9uYXR1cmVzb3VuZHMvMDclMjBCaXJkcyUyMCg3b29tLnJ1KS5tcDMnO1xuICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChteVZhcik7XG4gICAgfVxuXG4gICAgY29uc3QgdGltZXJXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmR1cmF0aW9uLXRpbWVyJyk7XG4gICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgIHRpbWVyV3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgIHN0YXJ0VGltZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lcldyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgY29uc3QgYnV0dG9uc1JlcGVhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zLXJlcGVhdCcpO1xuICAgIGNvbnN0IG1vZGFsQXV0aE9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1hdXRoLW9uZScpO1xuICAgIGJ1dHRvbnNSZXBlYXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbEF1dGhPbmUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3Blbi1vbmUnKTtcbiAgICAgIHN0YXJ0VGltZSgpO1xuICAgIH0pO1xuICAgIC8vIHRpbWVyXG5cbiAgICBjbGFzcyBBbmltYXRlIHtcbiAgICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBxdWVzdGlvbnMsXG4gICAgICAgIHF1ZXN0aW9uc1R3byxcbiAgICAgICAgcXVlc3Rpb25zVGhyZWUsXG4gICAgICAgIHF1ZXN0aW9uc0ZvdXIsXG4gICAgICAgIHBvcHVwQW5zd2VyLFxuICAgICAgICByZXNwb25zZXMsXG4gICAgICAgIGJ1dHRvbnNOZXh0LFxuICAgICAgICB0ZXh0QW5zd2VyLFxuICAgICAgICBzbGlkLFxuICAgICAgICBwbGF5QnRuLFxuICAgICAgICBwb3B1cFBpY3R1cmUsXG4gICAgICAgIGRvdFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMucXVlc3Rpb25zID0gcXVlc3Rpb25zO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1R3byA9IHF1ZXN0aW9uc1R3bztcbiAgICAgICAgdGhpcy5xdWVzdGlvbnNUaHJlZSA9IHF1ZXN0aW9uc1RocmVlO1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc0ZvdXIgPSBxdWVzdGlvbnNGb3VyO1xuICAgICAgICB0aGlzLnBvcHVwQW5zd2VyID0gcG9wdXBBbnN3ZXI7XG4gICAgICAgIHRoaXMuYnV0dG9uc05leHQgPSBidXR0b25zTmV4dDtcbiAgICAgICAgdGhpcy5zbGlkID0gc2xpZDtcbiAgICAgICAgdGhpcy5kb3QgPSBkb3Q7XG4gICAgICAgIHRoaXMucmVzcG9uc2VzID0gcmVzcG9uc2VzO1xuICAgICAgICB0aGlzLnRleHRBbnN3ZXIgPSB0ZXh0QW5zd2VyO1xuICAgICAgICB0aGlzLnBsYXlCdG4gPSBwbGF5QnRuO1xuICAgICAgICB0aGlzLnBvcHVwUGljdHVyZSA9IHBvcHVwUGljdHVyZTtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICAgIHRoaXMuY2xpY2soKTtcbiAgICAgICAgdGhpcy5jbGlja1RocmVlKCk7XG4gICAgICAgIHRoaXMuY2xpY2tUd28oKTtcbiAgICAgICAgdGhpcy5jbGlja09uZSgpO1xuICAgICAgICB0aGlzLmNsaWNrRm91cigpO1xuICAgICAgfVxuXG4gICAgICBwbGF5KCkge1xuICAgICAgICB0aGlzLnBsYXlCdG4uZm9yRWFjaCgoZWwsIGkpID0+XG4gICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWVPbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnLi9hdWRpby96dnVrNDEubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrKCkge1xuICAgICAgICBjb25zdCBsaXN0SW1nID0gW107XG4gICAgICAgIHRoaXMucXVlc3Rpb25zLmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZXNbaV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cEFuc3dlcltpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvc3ZnL2ZyYW1lLnN2Z1wiKWA7XG5cbiAgICAgICAgICAgIGNvbnN0IGltZyA9IHRoaXMucG9wdXBQaWN0dXJlW2ldO1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBpbWcuY3VycmVudFN0eWxlIHx8IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGltZywgZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgdXJsID0gc3R5bGUuYmFja2dyb3VuZEltYWdlLnNsaWNlKDQsIC0xKS5yZXBsYWNlKC9cIi9nLCAnJyk7XG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdXJsLnNwbGl0KCcvJykucG9wKCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGxpc3QoKSB7XG4gICAgICAgICAgICAgIGxpc3RJbWcucHVzaChsYXN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGlzdChsYXN0KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlKCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKGRhdGFbMF0uaW1hZ2VOdW0pID09PSBgMSR7aX0wYCkge1xuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHVybC0xJHtpfWAsIGxpc3RJbWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIHNldExvY2FsU3RvcmFnZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZG90W2ldLmNsYXNzTGlzdC5hZGQoJ2RvdC1hY3RpdmUnKTtcbiAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICcuL2F1ZGlvL3dpbm5pbmcubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrVHdvKCkge1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1R3by5mb3JFYWNoKChlbCwgaSkgPT5cbiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2VzW2ldLmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXBBbnN3ZXJbaV0uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybChcIi4vaW1nL3N2Zy93cm9uZy1hbnN3ZXIuc3ZnXCIpYDtcbiAgICAgICAgICAgIHRoaXMuZG90W2ldLmNsYXNzTGlzdC5hZGQoJ3BvaW50LWl0ZW0tcmVkJyk7XG4gICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWVPbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbygpO1xuICAgICAgICAgICAgICBhdWRpby5zcmMgPSAnLi9hdWRpby9sb3NzLm1wMyc7XG4gICAgICAgICAgICAgIGF1ZGlvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBjbGlja1RocmVlKCkge1xuICAgICAgICB0aGlzLnF1ZXN0aW9uc1RocmVlLmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZXNbaV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cEFuc3dlcltpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvc3ZnL3dyb25nLWFuc3dlci5zdmdcIilgO1xuICAgICAgICAgICAgdGhpcy5kb3RbaV0uY2xhc3NMaXN0LmFkZCgncG9pbnQtaXRlbS1yZWQnKTtcbiAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICcuL2F1ZGlvL2xvc3MubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrRm91cigpIHtcbiAgICAgICAgdGhpcy5xdWVzdGlvbnNGb3VyLmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNoZWNrVm9sdW1lID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZXNwb25zZXNbaV0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgdGhpcy5wb3B1cEFuc3dlcltpXS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiLi9pbWcvc3ZnL3dyb25nLWFuc3dlci5zdmdcIilgO1xuICAgICAgICAgICAgdGhpcy5kb3RbaV0uY2xhc3NMaXN0LmFkZCgncG9pbnQtaXRlbS1yZWQnKTtcbiAgICAgICAgICAgIGlmIChjaGVja1ZvbHVtZU9uZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgICAgICAgIGF1ZGlvLnNyYyA9ICcuL2F1ZGlvL2xvc3MubXAzJztcbiAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsaWNrT25lKCkge1xuICAgICAgICB0aGlzLmJ1dHRvbnNOZXh0LmZvckVhY2goKGVsLCBpKSA9PlxuICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgPD0gOCkge1xuICAgICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1vcGVuJyk7XG4gICAgICAgICAgICAgIHRoaXMuc2xpZFtpXS5jbGFzc0xpc3QucmVtb3ZlKCdvcGVuJyk7XG4gICAgICAgICAgICAgIHRoaXMuc2xpZFtpICsgMV0uY2xhc3NMaXN0LmFkZCgnb3BlbicpO1xuICAgICAgICAgICAgICAvLyB0aGlzLmRvdFtpXS5jbGFzc0xpc3QuYWRkKCdkb3QtYWN0aXZlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNlc1sxMF0uY2xhc3NMaXN0LmFkZCgnaXMtb3BlbicpO1xuICAgICAgICAgICAgICBpZiAoY2hlY2tWb2x1bWVPbmUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgICAgICAgICAgYXVkaW8uc3JjID0gJy4vYXVkaW8vdi5tcDMnO1xuICAgICAgICAgICAgICAgIGF1ZGlvLmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvdC1hY3RpdmUnKTtcbiAgICAgICAgICAgIHRoaXMudGV4dEFuc3dlci5pbm5lckhUTUwgPSBgJHtyZWQubGVuZ3RofSAvIDEwYDtcblxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlKCkge1xuICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKGRhdGFbMF0uaW1hZ2VOdW0pID09PSBgMSR7aX0wYCkge1xuICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHJlZC0xJHtpfTBgLCByZWQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBzZXRMb2NhbFN0b3JhZ2UpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcXVlc3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBsYXktb25lJyk7XG4gICAgY29uc3QgcGxheUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5Jyk7XG4gICAgY29uc3QgcG9wdXBBbnN3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtYW5zd2VyJyk7XG4gICAgY29uc3QgcG9wdXBQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwLXBpY3R1cmUnKTtcbiAgICBjb25zdCBxdWVzdGlvbnNUd28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucGxheS10d28nKTtcbiAgICBjb25zdCBxdWVzdGlvbnNUaHJlZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5LXRocmVlJyk7XG4gICAgY29uc3QgcXVlc3Rpb25zRm91ciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wbGF5LWZvdXInKTtcbiAgICBjb25zdCByZXNwb25zZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWwtYXV0aCcpO1xuICAgIGNvbnN0IGJ1dHRvbnNOZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmJ1dHRvbnMtbmV4dCcpO1xuICAgIGNvbnN0IHNsaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUtbGVhZGVyJyk7XG4gICAgY29uc3QgZG90ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvdCcpO1xuICAgIGNvbnN0IHRleHRBbnN3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGV4dC1hbnN3ZXInKTtcbiAgICBjb25zdCBhbmltYXRlID0gbmV3IEFuaW1hdGUoXG4gICAgICBxdWVzdGlvbnMsXG4gICAgICBxdWVzdGlvbnNUd28sXG4gICAgICBxdWVzdGlvbnNUaHJlZSxcbiAgICAgIHF1ZXN0aW9uc0ZvdXIsXG4gICAgICBwb3B1cEFuc3dlcixcbiAgICAgIHJlc3BvbnNlcyxcbiAgICAgIGJ1dHRvbnNOZXh0LFxuICAgICAgdGV4dEFuc3dlcixcbiAgICAgIHNsaWQsXG4gICAgICBwbGF5QnRuLFxuICAgICAgcG9wdXBQaWN0dXJlLFxuICAgICAgZG90XG4gICAgKTtcbiAgfTtcblxuICBmZXRjaChgLi9kYi8ke3BvcnRyYWl0LnByb2R1Y3RzfWApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIC8vIHJlbmRlckl0ZW1zKGRhdGEpO1xuICAgICAgcmVuZGVyRWxlbWVudChkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHBpYztcbiIsImNvbnN0IGZ1bGxzY3JlZW4gPSAoKSA9PiB7XG4gIGNvbnN0IG9wZW5mdWxsc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9wZW5mdWxsc2NyZWVuJyk7XG4gIG9wZW5mdWxsc2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkge1xuICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdWxsc2NyZWVuO1xuIiwiaW1wb3J0IHBpYyBmcm9tICcuL21vZHVsZXMvcGljJztcbmltcG9ydCBmdWxsc2NyZWVuIGZyb20gJy4vbW9kdWxlcy9mdWxsc2NyZWVuJztcblxucGljKCk7XG5mdWxsc2NyZWVuKCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///753\n")}},__webpack_exports__={};__webpack_modules__[753]()})();